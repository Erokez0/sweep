{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "$id": "sweep.config.schema",
  "definitions": {
    "color": {
      "type": "string",
      "description": "an ANSI color or an RGB color in hex representation",
      "pattern": "^(#[A-Za-z0-9]{2,6})|([0|1[0-6]?)$"
    },
    "uint16": {
      "type": "integer",
      "description": "uint16",
      "maximum": 65535,
      "minimum": 0
    },
    "key": {
      "type": "string",
      "pattern": "^((ctrl\\+)?(tab\\+)?(([a-z])|enter))$"
    },
    "keys": {
      "type": "array",
      "uniqueItems": true,
      "minItems": 1,
      "items": [
        {
          "$ref": "#/definitions/key"
        }
      ]
    }
  },
  "type": "object",
  "properties": {
    "flags": {
      "type": "array",
      "uniqueItems": true,
      "items": {
        "enum": [
          "--ascii",
          "--preview",
          "--config-path",
          "--fill",
          "--A",
          "--P",
          "--C",
          "--F"
        ]
      }
    },
    "colors": {
      "description": "each property descibes a color for each type",
      "type": "object",
      "properties": {
        "0": {
          "$ref": "#/definitions/color"
        },
        "1": {
          "$ref": "#/definitions/color"
        },
        "2": {
          "$ref": "#/definitions/color"
        },
        "3": {
          "$ref": "#/definitions/color"
        },
        "4": {
          "$ref": "#/definitions/color"
        },
        "5": {
          "$ref": "#/definitions/color"
        },
        "6": {
          "$ref": "#/definitions/color"
        },
        "7": {
          "$ref": "#/definitions/color"
        },
        "8": {
          "$ref": "#/definitions/color"
        },
        "mine": {
          "$ref": "#/definitions/color"
        },
        "empty": {
          "$ref": "#/definitions/color"
        },
        "flag": {
          "$ref": "#/definitions/color"
        },
        "wrong flag": {
          "$ref": "#/definitions/color"
        },
        "cursor": {
          "$ref": "#/definitions/color"
        }
      }
    },
    "bindings": {
      "type": "object",
      "uniqueItems": true,
      "properties": {
        "moveCursorUp": {
          "$ref": "#/definitions/keys"
        },
        "moveCursorDown": {
          "$ref": "#/definitions/keys"
        },
        "moveCursorLeft": {
          "$ref": "#/definitions/keys"
        },
        "moveCursorRight": {
          "$ref": "#/definitions/keys"
        },
        "openTile": {
          "$ref": "#/definitions/keys"
        },
        "flagTile": {
          "$ref": "#/definitions/keys"
        },
        "submit": {
          "$ref": "#/definitions/keys"
        }
      }
    },
    "mines": {
      "type": "integer",
      "minimum": 1,
      "maximum": 65535
    },
    "width": {
      "type": "integer",
      "minimum": 1,
      "maximum": 65535
    },
    "height": {
      "type": "integer",
      "minimum": 1,
      "maximum": 65535
    },
    "cursor": {
      "type": "object",
      "properties": {
        "left half":{
          "type": "string",
          "maxLength": 1,
          "minLength": 0
        },
        "right half":{
          "type": "string",
          "maxLength": 1,
          "minLength": 0
        },
        "color": {
          "$ref": "#/definitions/color"
        }
      }
    }
  }
}
