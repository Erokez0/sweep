{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "JSON schema for sweep configuration file",
  "id": "https://raw.githubusercontent.com/Erokez0/sweep/refs/heads/master/config.schema.json",
  "type": "object",
  "definitions": {
    "color": {
      "oneOf": [
        {
          "type": "string",
          "description": "an ANSI color or an RGB color in hex representation",
          "pattern": "^(#([A-Fa-f0-9]{2,6}|[A-Fa-f0-9]{6})|(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9]))$"
        },
        {
          "type": "null"
        }
      ]
    },
    "uint16": {
      "anyOf": [
        {
          "type": "integer",
          "description": "uint16",
          "maximum": 65535,
          "minimum": 0
        },
        {
          "type": "null"
        }
      ]
    },
    "key": {
      "type": "string",
      "pattern": "^((ctrl\\+)?(tab\\+)?(([a-z])|enter))$"
    },
    "keys": {
      "type": "array",
      "uniqueItems": true,
      "minItems": 1,
      "items": [
        {
          "$ref": "#/definitions/key"
        }
      ]
    }
  },
  "properties": {
    "flags": {
      "type": "array",
      "uniqueItems": true,
      "minItems": 0,
      "items": {
        "enum": [
          "--ascii",
          "--preview",
          "--config-path",
          "--fill",
          "--A",
          "--P",
          "--C",
          "--F"
        ]
      }
    },
    "colors": {
      "description": "each property describes a color for each type",
      "type": "object",
      "minProperties": 0,
      "properties": {
        "0": {
          "$ref": "#/definitions/color"
        },
        "1": {
          "$ref": "#/definitions/color"
        },
        "2": {
          "$ref": "#/definitions/color"
        },
        "3": {
          "$ref": "#/definitions/color"
        },
        "4": {
          "$ref": "#/definitions/color"
        },
        "5": {
          "$ref": "#/definitions/color"
        },
        "6": {
          "$ref": "#/definitions/color"
        },
        "7": {
          "$ref": "#/definitions/color"
        },
        "8": {
          "$ref": "#/definitions/color"
        },
        "mine": {
          "$ref": "#/definitions/color"
        },
        "empty": {
          "$ref": "#/definitions/color"
        },
        "flag": {
          "$ref": "#/definitions/color"
        },
        "wrong flag": {
          "$ref": "#/definitions/color"
        }
      }
    },
    "bindings": {
      "type": "object",
      "minProperties": 0,
      "properties": {
        "move cursor up": {
          "$ref": "#/definitions/keys"
        },
        "move cursor down": {
          "$ref": "#/definitions/keys"
        },
        "move cursor left": {
          "$ref": "#/definitions/keys"
        },
        "move cursor right": {
          "$ref": "#/definitions/keys"
        },
        "open tile": {
          "$ref": "#/definitions/keys"
        },
        "flag tile": {
          "$ref": "#/definitions/keys"
        }
      }
    },
    "defaults": {
      "type": "object",
      "description": "each property sets the default values to each corresponding start screen TUI",
      "properties": {
        "mines": {
          "$ref": "#/definitions/uint16"
        },
        "width": {
          "$ref": "#/definitions/uint16"
        },
        "height": {
          "$ref": "#/definitions/uint16"
        }
      }
    },
    "mines": {
      "$ref": "#/definitions/uint16"
    },
    "width": {
      "$ref": "#/definitions/uint16"
    },
    "height": {
      "$ref": "#/definitions/uint16"
    },
    "cursor": {
      "type": "object",
      "minProperties": 0,
      "properties": {
        "left half": {
          "type": "string",
          "maxLength": 1,
          "minLength": 0
        },
        "right half": {
          "type": "string",
          "maxLength": 1,
          "minLength": 0
        },
        "color": {
          "$ref": "#/definitions/color"
        }
      }
    }
  }
}